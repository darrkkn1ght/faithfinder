<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FaithFinder - Find Hope in Scripture</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="particles-bg"></div>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav-brand">
                <i class="fas fa-dove"></i>
                <h1>FaithFinder</h1>
            </div>
            <div class="nav-controls" id="navControls">
                <a href="journal.html" id="journalLink" class="control-btn" title="Journal" style="text-decoration:none; border:none; background:none;" target="_blank" rel="noopener">
                    <i class="fas fa-book"></i>
                </a>
                <a href="prayer.html" id="prayerLink" class="control-btn" title="Prayer Wall" style="text-decoration:none; border:none; background:none;" target="_blank" rel="noopener">
                    <i class="fas fa-hands"></i>
                </a>
                <a href="community.html" id="communityLink" class="control-btn" title="Community Wall" style="text-decoration:none; border:none; background:none;" target="_blank" rel="noopener">
                    <i class="fas fa-users"></i>
                </a>
                <span id="userStatus" style="display:flex; align-items:center; gap:0.5rem; margin-left:1rem;"></span>
                <button id="settingsBtn" class="control-btn" title="Settings">
                    <i class="fas fa-cog"></i>
                </button>
                <button id="themeToggle" class="control-btn" title="Toggle Theme">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Settings Panel -->
    <div id="settingsPanel" class="settings-panel">
        <div class="settings-content">
            <div class="settings-header">
                <h3><i class="fas fa-sliders-h" style="margin-right:0.5rem;color:var(--secondary-color);"></i>Settings</h3>
                <button id="closeSettings" class="close-btn" title="Close"><i class="fas fa-times"></i></button>
            </div>
            <div class="setting-group">
                <label for="themeSelect"><i class="fas fa-palette" style="margin-right:0.5rem;color:var(--secondary-color);"></i>Color Theme</label>
                <select id="themeSelect">
                    <option value="light">Light</option>
                    <option value="dark">Dark</option>
                    <option value="blue">Blue</option>
                    <option value="green">Green</option>
                    <option value="sepia">Sepia</option>
                    <option value="high-contrast">High Contrast</option>
                </select>
            </div>
            <div class="setting-group">
                <label for="fontFamily"><i class="fas fa-font" style="margin-right:0.5rem;color:var(--secondary-color);"></i>Font Style</label>
                <select id="fontFamily">
                    <option value="Georgia, serif">Georgia (Serif)</option>
                    <option value="Arial, sans-serif">Arial (Sans-serif)</option>
                    <option value="'Times New Roman', serif">Times New Roman</option>
                    <option value="Verdana, sans-serif">Verdana</option>
                    <option value="'Crimson Text', serif">Crimson Text</option>
                </select>
            </div>
            <div class="setting-group" style="display:flex;align-items:center;gap:0.7rem;">
                <label for="dyslexiaFont" style="margin:0;display:flex;align-items:center;gap:0.5rem;cursor:pointer;">
                    <i class="fas fa-universal-access" style="color:var(--secondary-color);"></i>
                    Dyslexia-Friendly Font
                </label>
                <label class="switch">
                    <input type="checkbox" id="dyslexiaFont">
                    <span class="slider round"></span>
                </label>
            </div>
            <div class="setting-group">
                <label for="fontSize"><i class="fas fa-text-height" style="margin-right:0.5rem;color:var(--secondary-color);"></i>Font Size</label>
                <input type="range" id="fontSize" min="14" max="24" value="16">
                <span id="fontSizeValue">16px</span>
            </div>
            <div class="setting-group">
                <label for="lineSpacing"><i class="fas fa-arrows-alt-v" style="margin-right:0.5rem;color:var(--secondary-color);"></i>Line Spacing</label>
                <input type="range" id="lineSpacing" min="1" max="2" step="0.05" value="1.6">
                <span id="lineSpacingValue">1.6</span>
            </div>
            <div class="setting-group">
                <label for="dailyReminderToggle" style="display:flex;align-items:center;gap:0.5rem;">
                    <i class="fas fa-bell" style="color:var(--secondary-color);"></i>
                    Enable Daily Verse Reminder
                </label>
                <label class="switch">
                    <input type="checkbox" id="dailyReminderToggle">
                    <span class="slider round"></span>
                </label>
                <div id="reminderTimeGroup" style="display:none; margin-top:0.5rem;">
                    <label for="reminderTime"><i class="fas fa-clock" style="margin-right:0.3rem;color:var(--secondary-color);"></i>Reminder Time</label>
                    <input type="time" id="reminderTime" value="08:00">
                </div>
                <div id="reminderStatus" style="margin-top:0.5rem; color:var(--text-secondary); font-size:0.95em;"></div>
            </div>
        </div>
    </div>

    <!-- Modern toggle switch CSS -->
    <style>
    .switch {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 24px;
    }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
      box-shadow: 0 1px 4px rgba(80,112,255,0.10);
    }
    input:checked + .slider {
      background: linear-gradient(90deg, var(--secondary-color) 60%, var(--accent-color) 100%);
    }
    input:checked + .slider:before {
      transform: translateX(20px);
    }
    </style>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Weekly Spiritual Theme Banner -->
            <div class="weekly-theme-banner fade-in">
                <span id="weeklyTheme">Weekly Theme: Walking in Faith</span>
            </div>
            <!-- Hero Section -->
            <section class="hero fade-in">
                <h2>Find Hope and Guidance in Scripture</h2>
                <p>Discover Bible verses, prayers, and inspiration for your current situation</p>
            </section>

            <!-- Search Section -->
            <section class="search-section fade-in">
                <div class="search-container">
    <input type="text" id="searchInput" placeholder="How are you feeling? (e.g., anxious, grateful, lonely...)">
    <button id="voiceSearchBtn" onclick="startVoiceSearch()" title="Voice Search">
        <i class="fas fa-microphone"></i>
    </button>
    <button id="searchBtn">
        <i class="fas fa-search"></i>
        Search
    </button>
</div>
                <div class="quick-tags">
                    <span class="tag" data-emotion="anxiety">Anxiety</span>
                    <span class="tag" data-emotion="depression">Depression</span>
                    <span class="tag" data-emotion="gratitude">Gratitude</span>
                    <span class="tag" data-emotion="loneliness">Loneliness</span>
                    <span class="tag" data-emotion="fear">Fear</span>
                    <span class="tag" data-emotion="hope">Hope</span>
                    <span class="tag" data-emotion="love">Love</span>
                    <span class="tag" data-emotion="peace">Peace</span>
                </div>
            </section>

            <!-- Results Container -->
            <div id="resultsContainer" class="results-container fade-in">
                <!-- Daily Verse (shown by default) -->
                <section class="daily-verse">
                    <h3><i class="fas fa-sun"></i> Verse of the Day</h3>
                    <div class="verse-card">
                        <div class="verse-text">
                            "For I know the plans I have for you," declares the Lord, "plans to prosper you and not to harm you, plans to give you hope and a future."
                        </div>
                        <div class="verse-reference">Jeremiah 29:11 (NIV)</div>
                        <div class="verse-context">
                            <h4>Context:</h4>
                            <p>This verse was written during a time when the Israelites were in exile in Babylon. God was reassuring them through the prophet Jeremiah that despite their current difficult circumstances, He had not forgotten them and had good plans for their future.</p>
                        </div>
                        <button class="refresh-btn secondary-btn" id="refreshVerseBtn" aria-label="Get a new daily verse">
                            <i class="fas fa-sync-alt"></i> New Verse
                        </button>
                        <div class="verse-share-group">
                            <button class="share-btn" id="shareDailyWhatsapp" title="Share on WhatsApp"><i class="fab fa-whatsapp"></i></button>
                            <button class="share-btn" id="shareDailyFacebook" title="Share on Facebook"><i class="fab fa-facebook"></i></button>
                            <button class="share-btn" id="shareDailyTwitter" title="Share on Twitter"><i class="fab fa-twitter"></i></button>
                            <button class="share-btn" id="shareDailyEmail" title="Share by Email"><i class="fas fa-envelope"></i></button>
                            <button class="share-btn" id="downloadDailyImage" title="Download as Image"><i class="fas fa-image"></i></button>
                        </div>
                    </div>
                </section>

                <!-- Search Results will be inserted here -->
            </div>

            <!-- Inspirational Quote Section -->
            <section class="quote-section fade-in">
                <h3><i class="fas fa-quote-left"></i> Daily Inspiration</h3>
                <div class="quote-card">
                    <div class="quote-text" id="dailyQuote">
                        "Faith is taking the first step even when you don't see the whole staircase."
                    </div>
                    <div class="quote-author" id="quoteAuthor">- Martin Luther King Jr.</div>
                    <button id="newQuoteBtn" class="secondary-btn">New Quote</button>
                </div>
            </section>

            <!-- Popular Verses Section -->
            <section class="popular-verses-section fade-in">
                <h3><i class="fas fa-fire"></i> Popular Verses</h3>
                <div class="popular-verse-card">
                    <div class="verse-text">"I can do all things through Christ who strengthens me."</div>
                    <div class="verse-reference">Philippians 4:13</div>
                    <div class="verse-share-group">
                        <button class="share-btn" title="Share on WhatsApp"><i class="fab fa-whatsapp"></i></button>
                        <button class="share-btn" title="Share on Facebook"><i class="fab fa-facebook"></i></button>
                        <button class="share-btn" title="Share on Twitter"><i class="fab fa-twitter"></i></button>
                        <button class="share-btn" title="Share by Email"><i class="fas fa-envelope"></i></button>
                    </div>
                </div>
                <div class="popular-verse-card">
                    <div class="verse-text">"The Lord is my shepherd; I shall not want."</div>
                    <div class="verse-reference">Psalm 23:1</div>
                    <div class="verse-share-group">
                        <button class="share-btn" title="Share on WhatsApp"><i class="fab fa-whatsapp"></i></button>
                        <button class="share-btn" title="Share on Facebook"><i class="fab fa-facebook"></i></button>
                        <button class="share-btn" title="Share on Twitter"><i class="fab fa-twitter"></i></button>
                        <button class="share-btn" title="Share by Email"><i class="fas fa-envelope"></i></button>
                    </div>
                </div>
                <div class="popular-verse-card">
                    <div class="verse-text">"Trust in the Lord with all your heart and lean not on your own understanding."</div>
                    <div class="verse-reference">Proverbs 3:5</div>
                    <div class="verse-share-group">
                        <button class="share-btn" title="Share on WhatsApp"><i class="fab fa-whatsapp"></i></button>
                        <button class="share-btn" title="Share on Facebook"><i class="fab fa-facebook"></i></button>
                        <button class="share-btn" title="Share on Twitter"><i class="fab fa-twitter"></i></button>
                        <button class="share-btn" title="Share by Email"><i class="fas fa-envelope"></i></button>
                    </div>
                </div>
            </section>

            </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 FaithFinder. May God bless your journey.</p>
            <div class="footer-links">
                <a href="#" onclick="showAbout()">About</a>
                <a href="#" onclick="showContact()">Contact</a>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="settings.js"></script>
    <script>
    // Login/logout state display
    function renderUserStatus() {
        const userStatus = document.getElementById('userStatus');
        userStatus.innerHTML = '';
        const user = localStorage.getItem('faithfinder_user');
        if (user) {
            const u = JSON.parse(user);
            userStatus.innerHTML = `
                <span style="display:flex;align-items:center;gap:0.4rem;">
                    <span class="avatar" style="width:2rem;height:2rem;font-size:1.1rem;overflow:hidden;">
                        <img src="${u.profileImage || u.avatarUrl || ''}" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:50%;" onerror="this.style.display='none'">
                    </span>
                    <span style="font-weight:600;">${u.username}</span>
                    <a href="profile.html" class="control-btn" title="Profile" style="display:flex;align-items:center;text-decoration:none;font-size:1.1rem;margin-left:0.5rem;">
                        <i class="fas fa-user"></i>
                    </a>
                    <button id="logoutBtn" style="margin-left:0.5rem;background:none;border:none;color:#e53e3e;font-size:1.1rem;cursor:pointer;" title="Logout"><i class="fas fa-sign-out-alt"></i></button>
                </span>
            `;
            document.getElementById('logoutBtn').onclick = function() {
                localStorage.removeItem('faithfinder_token');
                localStorage.removeItem('faithfinder_user');
                window.location.reload();
            };
        } else {
            userStatus.innerHTML = `<a href="login.html" style="color:var(--secondary-color);font-weight:600;text-decoration:underline;font-size:1rem;">Sign In</a>`;
        }
    }
    document.addEventListener('DOMContentLoaded', renderUserStatus);
    </script>
</body>
</html>